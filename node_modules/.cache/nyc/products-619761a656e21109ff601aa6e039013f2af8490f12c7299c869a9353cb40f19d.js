'use strict';// const { ObjectId } = require('fastify-mongodb')
function cov_1yklm1sb5d(){var path="/home/kim/sprint-cozstory-was/routes/products/products.js";var hash="fbdbacad151612103855eb6e414ab1c5af70f714";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/kim/sprint-cozstory-was/routes/products/products.js",statementMap:{"0":{start:{line:4,column:74},end:{line:4,column:96}},"1":{start:{line:7,column:2},end:{line:53,column:1}},"2":{start:{line:8,column:6},end:{line:21,column:7}},"3":{start:{line:9,column:23},end:{line:9,column:56}},"4":{start:{line:10,column:6},end:{line:15,column:7}},"5":{start:{line:11,column:10},end:{line:14,column:36}},"6":{start:{line:16,column:8},end:{line:19,column:19}},"7":{start:{line:23,column:6},end:{line:37,column:8}},"8":{start:{line:24,column:25},end:{line:24,column:75}},"9":{start:{line:26,column:6},end:{line:36,column:22}},"10":{start:{line:27,column:8},end:{line:30,column:34}},"11":{start:{line:33,column:8},end:{line:36,column:21}},"12":{start:{line:39,column:4},end:{line:52,column:3}},"13":{start:{line:40,column:21},end:{line:40,column:85}},"14":{start:{line:41,column:8},end:{line:44,column:37}},"15":{start:{line:45,column:8},end:{line:50,column:9}},"16":{start:{line:46,column:12},end:{line:49,column:38}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:46},end:{line:53,column:1}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:8,column:19},end:{line:8,column:20}},loc:{start:{line:8,column:51},end:{line:20,column:7}},line:8},"2":{name:"(anonymous_2)",decl:{start:{line:23,column:22},end:{line:23,column:23}},loc:{start:{line:23,column:54},end:{line:37,column:7}},line:23},"3":{name:"(anonymous_3)",decl:{start:{line:39,column:27},end:{line:39,column:28}},loc:{start:{line:39,column:59},end:{line:51,column:3}},line:39}},branchMap:{"0":{loc:{start:{line:10,column:6},end:{line:15,column:7}},type:"if",locations:[{start:{line:10,column:6},end:{line:15,column:7}},{start:{line:10,column:6},end:{line:15,column:7}}],line:10},"1":{loc:{start:{line:26,column:6},end:{line:36,column:22}},type:"if",locations:[{start:{line:26,column:6},end:{line:36,column:22}},{start:{line:26,column:6},end:{line:36,column:22}}],line:26},"2":{loc:{start:{line:45,column:8},end:{line:50,column:9}},type:"if",locations:[{start:{line:45,column:8},end:{line:50,column:9}},{start:{line:45,column:8},end:{line:50,column:9}}],line:45}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fbdbacad151612103855eb6e414ab1c5af70f714"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1yklm1sb5d=function(){return actualCoverage;};}return actualCoverage;}cov_1yklm1sb5d();const{readAllProducts,readOneProduct,readAllcategoryProduct}=(cov_1yklm1sb5d().s[0]++,require('../../model'));cov_1yklm1sb5d().s[1]++;module.exports=async function(app,opts){cov_1yklm1sb5d().f[0]++;cov_1yklm1sb5d().s[2]++;app.get('/',async function(request,reply){cov_1yklm1sb5d().f[1]++;const result=(cov_1yklm1sb5d().s[3]++,await readAllProducts(this.mongo));cov_1yklm1sb5d().s[4]++;if(result===[]){cov_1yklm1sb5d().b[0][0]++;cov_1yklm1sb5d().s[5]++;reply.code(404).header('content-type','application/json; charset=utf-8').send({error:"Not Found"});}else{cov_1yklm1sb5d().b[0][1]++;}cov_1yklm1sb5d().s[6]++;reply.code(200).header('content-type','application/json; charset=utf-8','content-encoding; gzip').send(result);});cov_1yklm1sb5d().s[7]++;app.get('/:id',async function(request,reply){cov_1yklm1sb5d().f[2]++;const result=(cov_1yklm1sb5d().s[8]++,await readOneProduct(this.mongo,request.params.id));cov_1yklm1sb5d().s[9]++;if(request.params.id!==request.params.id){cov_1yklm1sb5d().b[1][0]++;cov_1yklm1sb5d().s[10]++;reply.code(404).header('Content-type','application/json; charset=utf-8').send({error:"Not Found"});}else{cov_1yklm1sb5d().b[1][1]++;cov_1yklm1sb5d().s[11]++;reply.code(200).header('content-type','application/json; charset=utf-8','content-encoding; gzip').send(result);}});cov_1yklm1sb5d().s[12]++;app.get('/?productid',async function(request,reply){cov_1yklm1sb5d().f[3]++;const result=(cov_1yklm1sb5d().s[13]++,await readAllcategoryProduct(this.mongo,request.params.category));cov_1yklm1sb5d().s[14]++;reply.code(200).header('content-type','application/json; charset=utf-8','content-encoding; gzip').send(request.query.category);cov_1yklm1sb5d().s[15]++;if(request.query.category==request.params.category){cov_1yklm1sb5d().b[2][0]++;cov_1yklm1sb5d().s[16]++;reply.code(404).header('content-type','application/json; charset=utf-8').send({error:"Not Found"});}else{cov_1yklm1sb5d().b[2][1]++;}});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzLmpzIl0sIm5hbWVzIjpbInJlYWRBbGxQcm9kdWN0cyIsInJlYWRPbmVQcm9kdWN0IiwicmVhZEFsbGNhdGVnb3J5UHJvZHVjdCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiYXBwIiwib3B0cyIsImdldCIsInJlcXVlc3QiLCJyZXBseSIsInJlc3VsdCIsIm1vbmdvIiwiY29kZSIsImhlYWRlciIsInNlbmQiLCJlcnJvciIsInBhcmFtcyIsImlkIiwiY2F0ZWdvcnkiLCJxdWVyeSJdLCJtYXBwaW5ncyI6IkFBQUUsYUFFQTt3eUZBYVU7MkZBWk4sS0FBTSxDQUFFQSxlQUFGLENBQW1CQyxjQUFuQixDQUFtQ0Msc0JBQW5DLDJCQUE4REMsT0FBTyxDQUFDLGFBQUQsQ0FBckUsQ0FBTixDLHdCQUdKQyxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsZUFBZ0JDLEdBQWhCLENBQXFCQyxJQUFyQixDQUEyQixpREFDeENELEdBQUcsQ0FBQ0UsR0FBSixDQUFRLEdBQVIsQ0FBYSxlQUFnQkMsT0FBaEIsQ0FBeUJDLEtBQXpCLENBQWdDLHlCQUMzQyxLQUFNQyxDQUFBQSxNQUFNLDBCQUFHLEtBQU1YLENBQUFBLGVBQWUsQ0FBQyxLQUFLWSxLQUFOLENBQXhCLENBQVosQ0FEMkMsd0JBRTdDLEdBQUdELE1BQU0sR0FBRyxFQUFaLENBQWUsb0RBQ1hELEtBQUssQ0FDSkcsSUFERCxDQUNNLEdBRE4sRUFFQ0MsTUFGRCxDQUVRLGNBRlIsQ0FFd0IsaUNBRnhCLEVBR0NDLElBSEQsQ0FHTSxDQUFDQyxLQUFLLENBQUMsV0FBUCxDQUhOLEVBSUgsQ0FMRCxpQ0FGNkMsd0JBUTNDTixLQUFLLENBQ05HLElBREMsQ0FDSSxHQURKLEVBRURDLE1BRkMsQ0FFTSxjQUZOLENBRXFCLGlDQUZyQixDQUV3RCx3QkFGeEQsRUFHREMsSUFIQyxDQUdJSixNQUhKLEVBSUQsQ0FaRCxFQUR3Qyx3QkFnQnhDTCxHQUFHLENBQUNFLEdBQUosQ0FBUSxNQUFSLENBQWdCLGVBQWdCQyxPQUFoQixDQUF5QkMsS0FBekIsQ0FBZ0MseUJBQzVDLEtBQU1DLENBQUFBLE1BQU0sMEJBQUcsS0FBTVYsQ0FBQUEsY0FBYyxDQUFDLEtBQUtXLEtBQU4sQ0FBWUgsT0FBTyxDQUFDUSxNQUFSLENBQWVDLEVBQTNCLENBQXZCLENBQVosQ0FENEMsd0JBR2hELEdBQUdULE9BQU8sQ0FBQ1EsTUFBUixDQUFlQyxFQUFmLEdBQW9CVCxPQUFPLENBQUNRLE1BQVIsQ0FBZUMsRUFBdEMsQ0FBeUMscURBQ3ZDUixLQUFLLENBQ0pHLElBREQsQ0FDTSxHQUROLEVBRUNDLE1BRkQsQ0FFUSxjQUZSLENBRXVCLGlDQUZ2QixFQUdDQyxJQUhELENBR00sQ0FBQ0MsS0FBSyxDQUFDLFdBQVAsQ0FITixFQUlELENBTEQsSUFNSSxxREFDRk4sS0FBSyxDQUNKRyxJQURELENBQ00sR0FETixFQUVDQyxNQUZELENBRVEsY0FGUixDQUV1QixpQ0FGdkIsQ0FFMEQsd0JBRjFELEVBR0NDLElBSEQsQ0FHTUosTUFITixFQUdjLENBQ2YsQ0FkRCxFQWhCd0MseUJBZ0MxQ0wsR0FBRyxDQUFDRSxHQUFKLENBQVEsYUFBUixDQUF1QixlQUFnQkMsT0FBaEIsQ0FBeUJDLEtBQXpCLENBQWdDLHlCQUNyRCxLQUFNQyxDQUFBQSxNQUFNLDJCQUFHLEtBQU1ULENBQUFBLHNCQUFzQixDQUFDLEtBQUtVLEtBQU4sQ0FBWUgsT0FBTyxDQUFDUSxNQUFSLENBQWVFLFFBQTNCLENBQS9CLENBQVosQ0FEcUQseUJBRW5EVCxLQUFLLENBQ0pHLElBREQsQ0FDTSxHQUROLEVBRUNDLE1BRkQsQ0FFUSxjQUZSLENBRXdCLGlDQUZ4QixDQUUyRCx3QkFGM0QsRUFHQ0MsSUFIRCxDQUdNTixPQUFPLENBQUNXLEtBQVIsQ0FBY0QsUUFIcEIsRUFGbUQseUJBTW5ELEdBQUdWLE9BQU8sQ0FBQ1csS0FBUixDQUFjRCxRQUFkLEVBQXdCVixPQUFPLENBQUNRLE1BQVIsQ0FBZUUsUUFBMUMsQ0FBbUQscURBQy9DVCxLQUFLLENBQ0pHLElBREQsQ0FDTSxHQUROLEVBRUNDLE1BRkQsQ0FFUSxjQUZSLENBRXdCLGlDQUZ4QixFQUdDQyxJQUhELENBR00sQ0FBQ0MsS0FBSyxDQUFDLFdBQVAsQ0FITixFQUlILENBTEQsaUNBTUwsQ0FaQyxFQWNILENBOUNDIiwic291cmNlc0NvbnRlbnQiOlsiICAndXNlIHN0cmljdCdcblxuICAvLyBjb25zdCB7IE9iamVjdElkIH0gPSByZXF1aXJlKCdmYXN0aWZ5LW1vbmdvZGInKVxuICAgICAgY29uc3QgeyByZWFkQWxsUHJvZHVjdHMsIHJlYWRPbmVQcm9kdWN0LCByZWFkQWxsY2F0ZWdvcnlQcm9kdWN0IH0gPSByZXF1aXJlKCcuLi8uLi9tb2RlbCcpXG5cblxuICBtb2R1bGUuZXhwb3J0cyA9IGFzeW5jIGZ1bmN0aW9uIChhcHAsIG9wdHMpIHtcbiAgICAgIGFwcC5nZXQoJy8nLCBhc3luYyBmdW5jdGlvbiAocmVxdWVzdCwgcmVwbHkpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVhZEFsbFByb2R1Y3RzKHRoaXMubW9uZ28pXG4gICAgICBpZihyZXN1bHQ9PT1bXSl7XG4gICAgICAgICAgcmVwbHlcbiAgICAgICAgICAuY29kZSg0MDQpXG4gICAgICAgICAgLmhlYWRlcignY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnKVxuICAgICAgICAgIC5zZW5kKHtlcnJvcjpcIk5vdCBGb3VuZFwifSlcbiAgICAgIH1cbiAgICAgICAgcmVwbHlcbiAgICAgIC5jb2RlKDIwMClcbiAgICAgIC5oZWFkZXIoJ2NvbnRlbnQtdHlwZScsJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLCAnY29udGVudC1lbmNvZGluZzsgZ3ppcCcpXG4gICAgICAuc2VuZChyZXN1bHQpXG4gICAgICB9XG4gICAgICApXG5cbiAgICAgIGFwcC5nZXQoJy86aWQnLCBhc3luYyBmdW5jdGlvbiAocmVxdWVzdCwgcmVwbHkpIHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZWFkT25lUHJvZHVjdCh0aGlzLm1vbmdvLHJlcXVlc3QucGFyYW1zLmlkKVxuICAgICAgXG4gICAgICBpZihyZXF1ZXN0LnBhcmFtcy5pZCE9PXJlcXVlc3QucGFyYW1zLmlkKXtcbiAgICAgICAgcmVwbHlcbiAgICAgICAgLmNvZGUoNDA0KVxuICAgICAgICAuaGVhZGVyKCdDb250ZW50LXR5cGUnLCdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JylcbiAgICAgICAgLnNlbmQoe2Vycm9yOlwiTm90IEZvdW5kXCJ9KVxuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgcmVwbHlcbiAgICAgICAgLmNvZGUoMjAwKVxuICAgICAgICAuaGVhZGVyKCdjb250ZW50LXR5cGUnLCdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JywgJ2NvbnRlbnQtZW5jb2Rpbmc7IGd6aXAnKVxuICAgICAgICAuc2VuZChyZXN1bHQpfVxuICAgICAgfSlcbiAgICAgIFxuICAgIGFwcC5nZXQoJy8/cHJvZHVjdGlkJywgYXN5bmMgZnVuY3Rpb24gKHJlcXVlc3QsIHJlcGx5KSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZWFkQWxsY2F0ZWdvcnlQcm9kdWN0KHRoaXMubW9uZ28scmVxdWVzdC5wYXJhbXMuY2F0ZWdvcnkpXG4gICAgICAgIHJlcGx5XG4gICAgICAgIC5jb2RlKDIwMClcbiAgICAgICAgLmhlYWRlcignY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLCAnY29udGVudC1lbmNvZGluZzsgZ3ppcCcpXG4gICAgICAgIC5zZW5kKHJlcXVlc3QucXVlcnkuY2F0ZWdvcnkpXG4gICAgICAgIGlmKHJlcXVlc3QucXVlcnkuY2F0ZWdvcnk9PXJlcXVlc3QucGFyYW1zLmNhdGVnb3J5KXtcbiAgICAgICAgICAgIHJlcGx5XG4gICAgICAgICAgICAuY29kZSg0MDQpXG4gICAgICAgICAgICAuaGVhZGVyKCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcgKVxuICAgICAgICAgICAgLnNlbmQoe2Vycm9yOlwiTm90IEZvdW5kXCJ9KVxuICAgICAgICB9XG4gIH0gICAgXG4gIClcbn0iXX0=