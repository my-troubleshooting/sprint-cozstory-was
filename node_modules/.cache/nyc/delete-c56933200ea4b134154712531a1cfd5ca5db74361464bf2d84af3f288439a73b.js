'use strict'

const { deleteOne } = require('../../model')

module.exports = async function (app, opts) {
  app.delete('/:id', async function (request, reply) {
    const result = await deleteOne(this.mongo, request.params.id)
    // reply
    //   .code(204)
    //   .header('Content-type', 'application/json')
    //   .send({"value":"ok"})
    console.log('~~~~~~~~~~~~~~~result'\n)
    console.log(result)
    reply
     .code(200)
     .header('Content-type', 'application/json')
     .send({value: result.value,ok: result.ok})
  })
}
